{"version":3,"sources":["../../src/pages/change-password/change-password.module.ts","../../src/providers/index.ts","../../src/pages/change-password/change-password.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePasswordPage } from './change-password';\n\n@NgModule({\n  declarations: [\n    ChangePasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangePasswordPage),\n  ],\n})\nexport class ChangePasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.module.ts","export * from './affiliate/affiliate';\nexport * from './authentication/authentication';\nexport * from './client/client';\nexport * from './lead/lead';\nexport * from './loading/loading';\nexport * from './local-storage/local-storage';\nexport * from './manager/manager';\nexport * from './service/service';\nexport * from './state/state';\nexport * from './web-lead/web-lead';\nexport * from './prospects/prospects';\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/index.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\n\n// Models\nimport { AppUser } from '../../_models';\n\n// Serevices\nimport { LocalStorageProvider, LoadingProvider, AuthenticationProvider } from '../../providers';\n\n@IonicPage()\n@Component({\n  selector: 'page-change-password',\n  templateUrl: 'change-password.html',\n})\nexport class ChangePasswordPage implements OnInit {\n\n  credentials = { currentPassword: '', newPassword: '', confirmPassword: '' };\n\n  loggedInUser: AppUser;\n\n  successMessage: string = '';\n  errorMessage: string = '';\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingProvider: LoadingProvider,\n    public authProvider: AuthenticationProvider,\n    public localStorageProvider: LocalStorageProvider\n  ) {\n    this.loggedInUser = this.localStorageProvider.getLoggedInUser();\n  }\n\n  ngOnInit() {\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChangePasswordPage');\n  }\n\n  // Custom Methods\n\n  changePassword() {\n\n    this.loadingProvider.showLoading();\n\n    if (this.loggedInUser.password != this.credentials.currentPassword) {\n      this.errorMessage = 'Password you have entered does not match your current password.';\n      this.loadingProvider.hideLoading();\n      return;\n    }\n    if (this.credentials.currentPassword == this.credentials.newPassword) {\n      this.errorMessage = 'New Password should not be same as current password.';\n      this.loadingProvider.hideLoading();\n      return;\n    }\n    if (this.credentials.newPassword != this.credentials.confirmPassword) {\n      this.errorMessage = 'New password does not match the confirm password.';\n      this.loadingProvider.hideLoading();\n      return;\n    }\n\n    this.authProvider.changePassword(this.loggedInUser.id, this.credentials.newPassword).subscribe(response => {\n      if (response) {\n\n        if (JSON.parse(response['_body'])['code'] == 400) {\n          this.errorMessage = 'Bad Request!';\n          this.loadingProvider.hideLoading();\n          return;\n        }\n\n        if (JSON.parse(response['_body'])['code'] == 200) {\n          this.loggedInUser.password = this.credentials.newPassword;\n          this.localStorageProvider.setLoggedInUser(this.loggedInUser);\n\n          this.credentials = { currentPassword: '', newPassword: '', confirmPassword: '' };\n          this.successMessage = 'Your password has been changed successfully!'\n          this.loadingProvider.hideLoading();\n          return;\n        }\n\n      } else {\n        this.showError(\"Access Denied\");\n      }\n    },\n      error => {\n        //this.showError(error);\n        console.log(error);\n        this.showError('Invalid Request.');\n      });\n\n  }\n\n  showError(text) {\n    this.loadingProvider.hideLoading();\n\n    let alert = this.alertCtrl.create({\n      title: 'Fail',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.ts"],"sourceRoot":""}