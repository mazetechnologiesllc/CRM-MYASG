{"version":3,"sources":["../../src/pages/list-lead/list-lead.module.ts","../../src/providers/index.ts","../../src/pages/list-lead/list-lead.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ListLeadPage } from './list-lead';\n\n@NgModule({\n  declarations: [\n    ListLeadPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListLeadPage),\n  ],\n})\nexport class ListLeadPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-lead/list-lead.module.ts","export * from './affiliate/affiliate';\nexport * from './authentication/authentication';\nexport * from './client/client';\nexport * from './lead/lead';\nexport * from './loading/loading';\nexport * from './local-storage/local-storage';\nexport * from './manager/manager';\nexport * from './service/service';\nexport * from './state/state';\nexport * from './web-lead/web-lead';\nexport * from './prospects/prospects';\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/index.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, PopoverController } from 'ionic-angular';\n\n// Models\nimport { Lead } from '../../_models/index';\n\n// Services\nimport { LoadingProvider, LeadProvider, LocalStorageProvider } from '../../providers';\n\n@IonicPage()\n@Component({\n  selector: 'page-list-lead',\n  templateUrl: 'list-lead.html',\n})\nexport class ListLeadPage implements OnInit {\n\n  userType: number;\n\n  leadList: Lead[] = [];\n  companyId: number;\n  managerId: number;\n  affiliateId: number;\n\n  errorMessage: string = '';\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public popoverCtrl: PopoverController,\n    public alertCtrl: AlertController,\n    public loadingProvider: LoadingProvider,\n    public leadProvider: LeadProvider,\n    public localStorageProvider: LocalStorageProvider\n  ) {\n\n  }\n\n  ngOnInit() {\n\n    this.userType = this.localStorageProvider.getLoggedInUser().userTypeId;\n\n    this.companyId = 952;\n    this.managerId = 954;\n    this.affiliateId = 962;\n\n    this.getLeadList();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ListLeadPage');\n  }\n\n  getLeadList() {\n    this.loadingProvider.showLoading();\n\n    if (this.userType == 3) {\n\n      this.leadProvider.getLeadListByManager(this.managerId, this.companyId).subscribe(response => {\n        if (response) {\n\n          if (JSON.parse(response['_body'])['code'] == 404) {\n            this.loadingProvider.hideLoading();\n            this.errorMessage = 'Not Authorized!';\n            return;\n          }\n\n          for (let item of JSON.parse(response['_body'])) {\n            this.leadList.push({\n              id: item.id,\n              userTypeId: item.usertype_id,\n              empId: item.empID,\n              suffix: item.suffix_name,\n              firstName: item.first_name,\n              middleName: item.middle_name,\n              lastName: item.last_name,\n              email: item.email,\n              contactNumber: item.contact,\n              city: item.city,\n              state: item.state,\n              country: item.country,\n              leadAssigned: item.lead_assigned,\n              createdBy: item.created_by,\n              leadStage: item.leadStage,\n              serviceName: item.ServiceName,\n              status: item.status\n            });\n          }\n\n          this.loadingProvider.hideLoading();\n\n        } else {\n          this.showError(\"Access Denied\");\n        }\n      },\n        error => {\n          //this.showError(error);\n          console.log(error);\n          this.showError('Error.');\n        });\n\n    }\n\n    if (this.userType == 4) {\n\n      this.leadProvider.getLeadListByAffiliate(this.affiliateId, this.companyId).subscribe(response => {\n        if (response) {\n\n          if (JSON.parse(response['_body'])['code'] == 404) {\n            this.loadingProvider.hideLoading();\n            this.errorMessage = 'Not Authorized!';\n            return;\n          }\n\n          for (let item of JSON.parse(response['_body'])) {\n            this.leadList.push({\n              id: item.id,\n              userTypeId: item.usertype_id,\n              empId: item.empID,\n              suffix: item.suffix_name,\n              firstName: item.first_name,\n              middleName: item.middle_name,\n              lastName: item.last_name,\n              email: item.email,\n              contactNumber: item.contact,\n              city: item.city,\n              state: item.state,\n              country: item.country,\n              leadAssigned: item.lead_assigned,\n              createdBy: item.created_by,\n              leadStage: item.leadStage,\n              serviceName: item.ServiceName,\n              status: item.status\n            });\n          }\n\n          this.loadingProvider.hideLoading();\n\n        } else {\n          this.showError(\"Access Denied\");\n        }\n      },\n        error => {\n          //this.showError(error);\n          console.log(error);\n          this.showError('Error.');\n        });\n\n    }\n  }\n\n  showError(text) {\n    this.loadingProvider.hideLoading();\n\n    let alert = this.alertCtrl.create({\n      title: 'Fail',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n  view(leadId: number) {\n    return;\n  }\n\n  edit(leadId: number) {\n    return;\n  }\n\n  delete(leadId: number) {\n    return;\n  }\n\n  presentPopover(myEvent) {\n    // let popover = this.popoverCtrl.create(PopoverPage);\n    // popover.present({\n    //   ev: myEvent\n    // });\n    return;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-lead/list-lead.ts"],"sourceRoot":""}