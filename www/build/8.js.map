{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/providers/index.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","export * from './affiliate/affiliate';\nexport * from './authentication/authentication';\nexport * from './client/client';\nexport * from './lead/lead';\nexport * from './loading/loading';\nexport * from './local-storage/local-storage';\nexport * from './manager/manager';\nexport * from './service/service';\nexport * from './state/state';\nexport * from './web-lead/web-lead';\nexport * from './prospects/prospects';\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/index.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, AlertController, NavParams } from 'ionic-angular';\n\n// Models\nimport { AppUser } from '../../_models/index';\n\n// Servies\nimport { LoadingProvider, AuthenticationProvider, LocalStorageProvider } from '../../providers';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage implements OnInit {\n\n  credentials = { username: '', password: '' };\n  isLoggedIn: boolean = false;\n  loggedInUser: AppUser;\n  errorMessage: string;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authProvider: AuthenticationProvider,\n    public alertCtrl: AlertController,\n    public localStorageProvider: LocalStorageProvider,\n    public loadingProvider: LoadingProvider\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.isLoggedIn = JSON.parse(localStorage.getItem(\"isLoggedIn\"));\n    this.loggedInUser = this.localStorageProvider.getLoggedInUser();\n\n    if (this.isLoggedIn && this.loggedInUser) {\n      this.navCtrl.setRoot('MenuPage');\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }\n\n  // Custom Methods\n\n  cancelLogin() {\n    this.navCtrl.setRoot('MenuPage');\n  }\n  \n  login() {\n    this.loadingProvider.showLoading();\n\n    this.authProvider.login(this.credentials.username, this.credentials.password).subscribe(response => {\n      if (response) {\n\n        if (JSON.parse(response['_body'])['code'] == 404) {\n          this.loadingProvider.hideLoading();\n          this.errorMessage = 'Login failed! Invalid userName or password.';\n          return;\n        }\n\n        localStorage.setItem(\"isLoggedIn\", JSON.stringify(true));\n\n        this.localStorageProvider.removeLoggedInUser();\n\n        this.localStorageProvider.setLoggedInUser({\n          id: JSON.parse(response['_body'])['id'],\n          adminId: JSON.parse(response['_body'])['admin_id'],\n          affiliateId: JSON.parse(response['_body'])['affiliate_id'],\n          companyId: JSON.parse(response['_body'])['company_id'],\n          companyName: JSON.parse(response['_body'])['company_name'],\n          companyDisc: JSON.parse(response['_body'])['company_disc'],\n          empId: JSON.parse(response['_body'])['empID'],\n          managerId: JSON.parse(response['_body'])['manager_id'],\n          salesId: JSON.parse(response['_body'])['sales_id'],\n          serviceId: JSON.parse(response['_body'])['service_id'],\n          userName: JSON.parse(response['_body'])['username'],\n          firstName: JSON.parse(response['_body'])['first_name'],\n          middleName: JSON.parse(response['_body'])['middle_name'],\n          lastName: JSON.parse(response['_body'])['last_name'],\n          suffix: JSON.parse(response['_body'])['suffix_name'],\n          title: JSON.parse(response['_body'])['title'],\n          dob: JSON.parse(response['_body'])['dob'],\n          userTypeId: JSON.parse(response['_body'])['usertype_id'],\n          gender: JSON.parse(response['_body'])['gneder'],\n          website: JSON.parse(response['_body'])['website'],\n          email: JSON.parse(response['_body'])['email'],\n          password: this.credentials.password,\n          //password: JSON.parse(response['_body'])['password'],\n          contactNumber: JSON.parse(response['_body'])['contact'],\n          alternateNumber: JSON.parse(response['_body'])['alternate_number'],\n          fax: JSON.parse(response['_body'])['fax'],\n          address: JSON.parse(response['_body'])['address'],\n          city: JSON.parse(response['_body'])['city'],\n          state: JSON.parse(response['_body'])['state'],\n          country: JSON.parse(response['_body'])['country'],\n          pinCode: JSON.parse(response['_body'])['pincode'],\n          zip: JSON.parse(response['_body'])['zip'],\n          logo: JSON.parse(response['_body'])['logo'],\n          icon: JSON.parse(response['_body'])['icon'],\n          image: JSON.parse(response['_body'])['image'],\n          securityAmount: JSON.parse(response['_body'])['security_amount'],\n          amount: JSON.parse(response['_body'])['amount'],\n          finalAmount: JSON.parse(response['_body'])['final_amount'],\n          under: JSON.parse(response['_body'])['under'],\n          profile: JSON.parse(response['_body'])['profile'],\n          designationId: JSON.parse(response['_body'])['designation_id'],\n          leadAssigned: JSON.parse(response['_body'])['lead_assigned'],\n          leadStatus: JSON.parse(response['_body'])['lead_status'],\n          isApproved: JSON.parse(response['_body'])['approved'],\n          createdDate: JSON.parse(response['_body'])['created_on'],\n          createdBy: JSON.parse(response['_body'])['created_by'],\n          updatedDate: JSON.parse(response['_body'])['updated_on'],\n          updateBy: JSON.parse(response['_body'])['updated_by'],\n          lastLogin: JSON.parse(response['_body'])['last_login'],\n          isAgreedCCQ: JSON.parse(response['_body'])['agreementStatus'],\n          status: JSON.parse(response['_body'])['status']\n        });\n\n        window.location.reload(true);\n        this.navCtrl.setRoot('MenuPage');\n      } else {\n        this.showError(\"Access Denied\");\n      }\n    },\n      error => {\n        //this.showError(error);\n        console.log(error);\n        this.showError('Login failed.');\n      });\n\n    //this.navCtrl.setRoot('MenuPage');\n  }\n\n  showError(text) {\n    this.loadingProvider.hideLoading();\n\n    let alert = this.alertCtrl.create({\n      title: 'Fail',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}